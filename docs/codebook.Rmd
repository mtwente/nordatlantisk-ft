---
title: "Codebook: nordatlantisk-ft"
author: Moritz Twente
output:
  github_document:
    toc: true
    toc_depth: 2
lang: en
bibliography: ../assets/codebook_references.bib
reference-section-title: References
link-citations: true
linkcolor: blue
urlcolor: blue
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r attach-packages, include=FALSE}
library(here)
```

```{r load-data, include=FALSE}

MP_names <- readRDS(here("data", "processed", "MP_names.rds"))

northatlantic_votes <- readRDS(here("data", "processed", "northatlantic_votes.rds"))
northatlantic_votes_raw <- read.csv(here("data", "raw", "northatlantic_votes_raw.csv"))

ballot_results_ft <- readRDS(here("data", "processed", "ballot_results_ft.rds"))
ballot_info_raw <- read.csv(here("data", "raw", "ballot_info_raw.csv"))

northatlantic_ft <- readRDS(here("data", "processed", "northatlantic_ft.rds"))
```

# Introduction

This codebook provides descriptions of the `northatlantisk-ft` data set, i.e. of all files in [`../data/`](../data). Variables are described for each file individually with information on connections to other variables within the pipeline to create the data set. All data, unless otherwise specified, is retrieved from the records of @folketinget_folketingets_2024, the parliament of Denmark.

All data is available in `rds` format that can be read in an R Session via `readRDS()`. Where data is also available in `csv` format, the tabular metadata is provided in `json` files at [`../data/csv`](../data/csv) according to the W3C Metadata Vocabulary for Tabular Data [@w3c_w3c_2015].

# File and Variable Descriptions

## MP_names

`MP_names` is provided in `csv` and `rds` formats in [`../data/processed`](../data/processed). The `csv` file serves as starting point for building the data set, as the workflow pipeline^[See [`../README.md`](../README.md) or [`../_targets.R`](../_targets.R)] retrieves data from [Folketingets Open Data Portal](https://oda.ft.dk) based on which MPs are listed in this file. This repository is shipped with a list of all Folketinget MPs that have represented the Faroe Islands and Greenland from 2004 until `r format(Sys.Date(), "%B %Y")`, which results in `r nrow(MP_names)` MPs.

```{r MP_names}
head(MP_names)
```

Descriptions of all variables in `MP_names` are provided in the following sections. The only variable necessary to execute the workflow is stored as [`MP_names$MP_id`](#MP_names_MP_id).

### surname {#MP_names_surname}

All surname(s) are stored as values of the type ```r typeof(MP_names$surname)```. Names are spelled according to standardised orthography and, in terms of morphology, in nominative (Faroese) resp. absolutive (Greenlandic) case. Because there may be multiple MPs with the same surname(s), refer to [`MP_names$MP_id`](#MP_names_MP_id) instead for reliable identification.

This column is not necessary for successfully executing the workflow pipeline, but it can be used to map MP names to the corresponding IDs for increased readability of resulting plots.

```{r MP_names$surname}
head(MP_names$surname)
```

### first_name {#MP_names_first_name}

All first names are stored as values of the type ```r typeof(MP_names$first_name)```. Names are spelled according to standardised orthography and, morphologically, in nominative (Faroese) resp. absolutive (Greenlandic) case. Because there may be multiple MPs with the same first name(s), refer to [`MP_names$MP_id`](#MP_names_MP_id) instead for reliable identification.

This column is not necessary for successfully executing the workflow pipeline, but it can be used to map MPs' names to the corresponding IDs for increased readability of resulting plots.

```{r MP_names$first_name}
head(MP_names$first_name)
```

### MP_id {#MP_names_MP_id}

Each MP is assigned an ID by [Folketingets åbne data service (ODA)](https://www.ft.dk/dokumenter/aabne_data). Each `MP_id` thus is a unique identifier for one member of Folketinget. All IDs are stored as values of the type ```r typeof(MP_names$MP_id)``` as ```r class(MP_names$MP_id)``` variable. It is possible to use these IDs e.g. for querying the [the online database](https://oda.ft.dk) to retrieve documents that relate to a given MP or to find out which parliamentary processes this MP has been engaged in.

`MP_id` is the only necessary column in `MP_names` for successfully executing the workflow pipeline.

```{r MP_names$MP_id}
head(MP_names$MP_id)
```

This variable corresponds to the `aktørid` variable and the `Aktør` resource in [the Folketing online database](https://oda.ft.dk). Note that in Folketinget's data model, ministries, parliamentary commissions, NGOs etc. are also listed as `Aktør` with their resp. `aktørid`.

### origin {#MP_names_origin}

`origin` indicates whether an MP was elected in either Greenland (`GL`) or the Faroe Islands (`FO`). This variable is stored as value of the type ```r typeof(MP_names$origin)``` as ```r class(MP_names$origin)``` variable. Note that this only indicates where the MP in question ran for office. MPs with ties to Greenland or the Faroe Islands who won a Folketinget mandate in a continental election district are thus not part of this data set, as they are not considered *Northatlantic* MPs.

```{r MP_names$origin}
summary(MP_names$origin)
```

### party {#MP_names_party}

The political party that each MP belongs to is stored as value of the type ```r typeof(MP_names$party)``` as ```r class(MP_names$party)``` variable. As per `r format(Sys.Date(), "%B %Y")`, there have been two MPs from Greenland who left their party -- Siumut, in both cases -- during their time in office. For now, these cases are stored as a separate character string (`SIU et al.`).

```{r MP_names$party}
summary(MP_names$party)
```

Since 2004, Greenlandic MPs have belonged to two political parties while MPs from Faroe Islands were members of four different political parties. They are listed below with additional information on their positions from the ParlGov dataset [@doring_parlgov_2022].

| Party | Full Name | Party Family | Origin | Left-Right | State-Market | Liberty-Authority | Anti-Pro EU |
|:---|:---|:---:|:---:|:---:|:---:|:---:|:---:|
| IA | Inuit Ataqatigiit | Communist/Socialist | GL | 1.3 | 1.4 | 3 | 3.3 |
| SIU | Siumut | Social Democracy | GL | 3.3 | 3.5 | 3.5 | 8.1 |
| A | Fólkaflokkurin | Conservative | FO | 7.4 | 6.4 | 6.9 | 7.9 |
| B | Sambandsflokkurin | Conservative | FO | 7.4 | 6.4 | 6.9 | 7.9 |
| C | Javnaðarflokkurin | Social Democracy | FO | 3.3 | 3.5 | 3.5 | 8.1 |
| E | Tjóðveldi | Communist/Socialist | FO | 1.3 | 1.4 | 3 | 3.3 |

See @ackren_political_2015 for an analysis of the development of Greenlandic political parties until 2014. For overviews of the Faroese political party system see @west_skipanarligar_2022 in Faroese and @west_faerosk_2020 in Danish. @harder_supplerende_2022 provides a list of all Greenlandic and Faroese MPs and their party association(s) going back until 1953.

### start_date {#MP_names_start_date}

For now, `start_date` is an empty placeholder variable. It will provide information on which date the MPs joined Folketinget.

```{r MP_names$start_date}
head(MP_names$start_date)
```

### end_date {#MP_names_end_date}

For now, `end_date` is an empty placeholder variable. It will provide information on which date the MPs left Folketinget.

```{r MP_names$end_date}
head(MP_names$end_date)
```

***

## northatlantic_votes

`northatlantic_votes` is provided as `rds` file in [`../data/processed/`](../data/processed). After all votes cast by the MPs specified in [`MP_names`](#mp_names) are downloaded, they are processed and then stored in this file. The unprocessed [raw data](#northatlantic_votes_raw) is available as `csv` file in [`../data/raw/`](../data/raw). As per `r format(Sys.Date(), "%B %Y")`, `northatlantic_votes.rds` contains `r nrow(northatlantic_votes)` observations of `r ncol(northatlantic_votes)` variables.

```{r northatlantic_votes}
head(northatlantic_votes)
```

Descriptions of all variables in `northatlantic_votes` are provided in the following sections.

### vote_id {#northatlantic_votes_vote_id}

All votes cast in Folketinget are assigned an ID by [Folketingets åbne data service (ODA)](https://www.ft.dk/dokumenter/aabne_data). Each vote ID is thus a unique identifier for one vote cast in Folketinget. All IDs are stored as values of the type ```r typeof(northatlantic_votes$vote_id)``` as ```r class(northatlantic_votes$vote_id)``` variable.

This variable corresponds to the `id` variable and the `Stemme` resource in [the Folketing online database](https://oda.ft.dk).

```{r northatlantic_votes$vote_id}
head(northatlantic_votes$vote_id)
```

### vote_type_id {#northatlantic_votes_vote_type_id}

All votes cast in Folketinget are recorded using numeric values that correspond to the MP's decision. All Vote Type IDs are stored as values of the type ```r typeof(northatlantic_votes$vote_type_id)``` as ```r class(northatlantic_votes$vote_type_id)``` variable.

| ID | Result | English | n
|:---|:---|:---|---:|
| 1 | for | for | ```r length(which(northatlantic_votes$vote_type_id==1))``` |
| 2 | imod | against | ```r length(which(northatlantic_votes$vote_type_id==2))``` |
| 3 | fravær | absence | ```r length(which(northatlantic_votes$vote_type_id==3))``` |
| 4 | hverken for eller imod | abstention | ```r length(which(northatlantic_votes$vote_type_id==4))``` |

This variable corresponds to the `typeid` variable and the `Stemmetype` resource in [the Folketing online database](https://oda.ft.dk).

```{r northatlantic_votes$vote_type_id}
head(northatlantic_votes$vote_type_id)
```

### ballot_id {#northatlantic_votes_ballot_id}

All ballot procedures in Folketinget are assigned an ID by [Folketingets åbne data service (ODA)](https://www.ft.dk/dokumenter/aabne_data). Each ballot ID is thus a unique identifier for one ballot in Folketinget. All IDs are stored as values of the type ```r typeof(northatlantic_votes$ballot_id)``` as ```r class(northatlantic_votes$ballot_id)``` variable.

This variable corresponds to the [`ballot_results_ft$afstemningid`](#afstemningid) variable and the `Afstemning` resource in [the Folketing online database](https://oda.ft.dk). Take care not to confuse `ballot_id` with [`ballot_results_ft$ballot_nr`](#ballot_results_ft_ballot_nr).

```{r northatlantic_votes$ballot_id}
head(northatlantic_votes$ballot_id)
```

### MP_id {#northatlantic_votes_MP_id}

See [`MP_names$MP_id`](#MP_names_MP_id).

```{r northatlantic_votes$MP_id}
head(northatlantic_votes$MP_id)
```

***

## northatlantic_votes_raw

`northatlantic_votes_raw` is provided as `csv` file in [`../data/raw/`](../data/raw). It contains the downloaded data on voting records before any preprocessing. The [processed data](#northatlantic_votes)  is available as `rds` file in [`../data/processed`](../data/processed). As per `r format(Sys.Date(), "%B %Y")`, `northatlantic_votes_raw.csv` contains `r nrow(northatlantic_votes_raw)` observations of `r ncol(northatlantic_votes_raw)` variables.

```{r northatlantic_votes_raw}
head(northatlantic_votes_raw)
```

Descriptions of all variables in `northatlantic_votes_raw` are provided in the following sections.

### id {#northatlantic_votes_raw_id}

See [`northatlantic_votes$vote_id`](#northatlantic_votes_vote_id). In the raw data, `id` is stored as ```r typeof(northatlantic_votes_raw$id)``` value.

```{r northatlantic_votes_raw$id}
head(northatlantic_votes_raw$id)
```

### typeid {#northatlantic_votes_raw_typeid}

See [`northatlantic_votes$vote_type_id`](#northatlantic_votes_vote_type_id). In the raw data, `typeid` is stored as ```r typeof(northatlantic_votes_raw$typeid)``` value.

```{r northatlantic_votes_raw$typeid}
head(northatlantic_votes_raw$typeid)
```

### afstemningid {#northatlantic_votes_raw_afstemningid}

See [`northatlantic_votes$ballot_id`](#northatlantic_votes_ballot_id). In the raw data, `afstemningid` is stored as ```r typeof(northatlantic_votes_raw$afstemningid)``` value.

Take care not to confuse `afstemningid` with [`ballot_nr`](#ballot_nr).

```{r northatlantic_votes_raw$afstemningid}
head(northatlantic_votes_raw$afstemningid)
```

### opdateringsdato {#northatlantic_votes_raw_opdateringsdat}

For all records kept in [the Folketing online database](https://oda.ft.dk), the time stamp of its last update is stored in `opdateringsdato`. All dates are stored as values of the type ```r typeof(northatlantic_votes_raw$opdateringsdato)```. The time stamps are formatted as `%Y-%m-%dT%T`, with some values even at split second level.

This variable is eliminated from [`northatlantic_votes`](#northatlantic_votes) as a result of data processing.

```{r northatlantic_votes_raw$opdateringsdato}
head(northatlantic_votes_raw$opdateringsdato)
```

***

## ballot_results_ft

`ballot_results_ft` is provided as `rds` file in [`../data/processed/`](../data/processed). After all ballots are downloaded, they are processed and then stored in this file. The unprocessed [raw data](#ballot_info_raw) is available as `csv` file in [`../data/raw/`](../data/raw). As per `r format(Sys.Date(), "%B %Y")`, `ballot_results_ft.rds` contains `r nrow(ballot_results_ft)` observations of `r ncol(ballot_results_ft)` variables.

```{r ballot_results_ft}
str(ballot_results_ft)
```

Descriptions of all variables in `ballot_results_ft` are provided in the following sections.

### ballot_id {#ballot_results_ft_ballot_id}

See [northatlantic_votes$ballot_id](#ballot_id). Take care not to confuse `ballot_id` with [`ballot_nr`](#ballot_nr).

```{r ballot_results_ft$ballot_id}
head(ballot_results_ft$ballot_id)
```

### meeting_id {#ballot_results_ft_meeting_id}

All meetings in Folketinget are assigned an ID by [Folketingets åbne data service (ODA)](https://www.ft.dk/dokumenter/aabne_data). Each meeting ID is thus a unique identifier for one meeting in Folketinget. All IDs are stored as values of the type ```r typeof(ballot_results_ft$meeting_id)``` as ```r class(ballot_results_ft$meeting_id)``` variable.

This variable corresponds to the [`mødeid`](#mødeid) variable and the `Møde` resource in [the Folketing online database](https://oda.ft.dk).

This variable is eliminated when joining `ballot_results_ft` and `northatlantic_votes` to [`northatlantic_ft`](#northatlantic_ft).

```{r ballot_results_ft$meeting_id}
head(ballot_results_ft$meeting_id)
```

### ballot_pass {#ballot_results_ft_ballot_pass}

The result of all ballots in Folketinget is stored in `ballot_pass` as ```r typeof(ballot_results_ft$ballot_pass)``` variable. If parliament votes in favor of a proposal, it passes and `ballot_pass` is assigned `TRUE`; if parliament votes a proposal down, it does not pass and `ballot_pass` is assigned `FALSE`.

This variable corresponds to the [`vedtaget`](#vedtaget) variable in the `Afstemning` resource in [the Folketing online database](https://oda.ft.dk).

```{r ballot_results_ft$ballot_pass}
head(ballot_results_ft$ballot_pass)
```

### ballot_date {#ballot_results_ft_ballot_date}

The date on which each ballot takes place in Folketinget is stored as value of the type ```r typeof(ballot_results_ft$ballot_date)```. Calendar information is formatted as `%Y-%m-%d`, the earliest entry being from ```r min(ballot_results_ft$ballot_date)``` and the most recent entry from ```r max(ballot_results_ft$ballot_date)``` as per `r format(Sys.Date(), "%B %Y")`.

This variable is added to the data using the [`get_meeting_dates()`](../src/targets/get_meeting_dates.R) function.

```{r ballot_results_ft$ballot_date}
head(ballot_results_ft$ballot_date)
```

### ft_for {#ballot_results_ft_ft_for}

In `ft_for`, the number of votes cast in favor of a proposal is stored as ```r class(ballot_results_ft$ft_for)``` value of the type ```r typeof(ballot_results_ft$ft_for)```. Since the record keeping of Folketinget is inconsistent regarding the coding of ballot results, values for this variable are calculated in two steps. First, using the retrieved raw data, [`get_missing_info()`](../src/targets/get_missing_info.R) sums up all recorded individual votes in favor of the proposal using the `switch()` function on every row where [`raw_ballot_results$typeid`](#typeid) equals `1`. The results of a considerable share of ballots are recorded only using [a -- Danish -- character string](#comment) instead of in a list of votes. In these cases, the number of votes in favor of those proposals is extracted with [`clean_ballot_results()`](../src/targets/clean_ballot_results.R) using the `strex` package and then added to the number of approving votes from the first step.

The maximum value stored in `ft_for` is ```r max(ballot_results_ft$ft_for)``` and the minimum value stored in `ft_for` is ```r min(ballot_results_ft$ft_for)```. As the total number of MPs in Folketinget is 179, the value of `ft_for` cannot be greater than `179`.

```{r ballot_results_ft$ft_for}
head(ballot_results_ft$ft_for)
```

### ft_against {#ballot_results_ft_ft_against}

In `ft_against`, the number of votes cast against a proposal is stored as ```r class(ballot_results_ft$ft_against)``` value of the type ```r typeof(ballot_results_ft$ft_against)```. Since the record keeping of Folketinget is inconsistent regarding the coding of ballot results, values for this variable are calculated in two steps. First, using the retrieved raw data, [`get_missing_info()`](../src/targets/get_missing_info.R) sums up all recorded individual votes in favor of the proposal using the `switch()` function on every row where [`raw_ballot_results$typeid`](#typeid) equals `2`. The results of a considerable share of ballots are recorded only using [a -- Danish -- character string](#comment) instead of in a list of votes. In these cases, the number of no-votes is extracted with [`clean_ballot_results()`](../src/targets/clean_ballot_results.R) using the `strex` package and then added to the number of no-votes from the first step.

The maximum value stored in `ft_against` is ```r max(ballot_results_ft$ft_against)``` and the minimum value stored in `ft_against` is ```r min(ballot_results_ft$ft_against)```. As the total number of MPs in Folketinget is 179, the value of `ft_against` cannot be greater than `179`.

```{r ballot_results_ft$ft_against}
head(ballot_results_ft$ft_against)
```

### ft_abstention {#ballot_results_ft_ft_abstention}

In `ft_abstention`, the number of abstaining votes is stored as ```r class(ballot_results_ft$ft_abstention)``` value of the type ```r typeof(ballot_results_ft$ft_abstention)```. Since the record keeping of Folketinget is inconsistent regarding the coding of ballot results, values for this variable are calculated in two steps. First, using the retrieved raw data, [`get_missing_info()`](../src/targets/get_missing_info.R) sums up all recorded individual abstaining votes using the `switch()` function on every row where [`raw_ballot_results$typeid`](#typeid) equals `4`. The results of a considerable share of ballots are recorded only using [a -- Danish -- character string](#comment) instead of in a list of votes. In these cases, the number of abstentions is extracted with [`clean_ballot_results()`](../src/targets/clean_ballot_results.R) using the `strex` package and then added to the number of abstaining votes from the first step.

The maximum value stored in `ft_abstention` is ```r max(ballot_results_ft$ft_abstention)``` and the minimum value stored in `ft_abstention` is ```r min(ballot_results_ft$ft_abstention)```. As the total number of MPs in Folketinget is 179, the value of `ft_abstention` cannot be greater than `179`.

```{r ballot_results_ft$ft_abstention}
head(ballot_results_ft$ft_abstention)
```

### ft_absent {#ballot_results_ft_ft_absent}

In `ft_absent`, the number of MPs who were absent for each ballot is stored as ```r class(ballot_results_ft$ft_absent)``` value of the type ```r typeof(ballot_results_ft$ft_absent)```. Since the record keeping of Folketinget is inconsistent regarding the coding of ballot results, values for this variable are calculated by substracting `ft_for`, `ft_against` and `ft_abstention` from `179`, the total number of MPs in Folketinget, using [`clean_ballot_results()`](../src/targets/clean_ballot_results.R).

The maximum value stored in `ft_absent` is ```r max(ballot_results_ft$ft_absent)``` and the minimum value stored in `ft_absent` is ```r min(ballot_results_ft$ft_abstention)```. As the total number of MPs in Folketinget is 179, the value of `ft_absent` cannot be greater than `179`.

```{r ballot_results_ft$ft_absent}
head(ballot_results_ft$ft_absent)
```

### ft_process_id {#ballot_results_ft_ft_process_id}

All legislative processes in Folketinget are assigned an ID by [Folketingets åbne data service (ODA)](https://www.ft.dk/dokumenter/aabne_data). Each process ID is thus a unique identifier for one process relating to legislation in Folketinget. All IDs are stored as values of the type ```r typeof(ballot_results_ft$ft_process_id)``` as ```r class(ballot_results_ft$ft_process_id)``` variable.

This variable corresponds to the [`sagstrinid`](#sagstrinid) variable and the `Sagstrin` resource in [the Folketing online database](https://oda.ft.dk).

This variable is eliminated when joining `ballot_results_ft` and `northatlantic_votes` to [`northatlantic_ft`](#northatlantic_ft).

```{r ballot_results_ft$ft_process_id}
head(ballot_results_ft$ft_process_id)
```

### ballot_nr {#ballot_results_ft_ballot_nr}

In addition to the [`ballot_id`](#ballot_id), all ballot procedures in Folketinget are also assigned a number by [Folketingets åbne data service (ODA)](https://www.ft.dk/dokumenter/aabne_data). Each ballot number is thus another identifier for one ballot in Folketinget. All ballot numbers are stored as values of the type ```r typeof(ballot_results_ft$ballot_nr)``` as ```r class(ballot_results_ft$ballot_nr)``` variable.

This variable corresponds to the [`ballot_info_raw$nummer`](#nummer) variable in the `Afstemning` resource in [the Folketing online database](https://oda.ft.dk). Take care not to confuse `ballot_nr` with [`ballot_id`](#ballot_id).


```{r ballot_results_ft$ballot_nr}
head(ballot_results_ft$ballot_nr)
```

### ballot_type_id {#ballot_results_ft_ballot_type_id}

All ballot procedures in Folketinget are categorised using numeric values that correspond to the type of ballot. All Ballot Type IDs are stored as values of the type ```r typeof(ballot_results_ft$ballot_type_id)``` as ```r class(ballot_results_ft$ballot_type_id)``` variable.

| ID | Type | English | n
|:---|:---|:---|---:|
| 1 | Endelig vedtagelse | Final Adoption | ```r length(which(ballot_results_ft$ballot_type_id==1))``` |
| 2 | Udvalgsindstilling | Committee Recommendation Report | ```r length(which(ballot_results_ft$ballot_type_id==2))``` |
| 3 | Forslag til vedtagelse | Proposed Adoption | ```r length(which(ballot_results_ft$ballot_type_id==3))``` |
| 4 | Ændringsforslag | Amendment | ```r length(which(ballot_results_ft$ballot_type_id==4))``` |

This variable corresponds to the `typeid` variable in [`ballot_info_raw`](#ballot_info_raw) and the `type` variable in the `Afstemningstype` resource in [the Folketing online database](https://oda.ft.dk).

```{r ballot_results_ft$ballot_type_id}
head(ballot_results_ft$ballot_type_id)
```

### comment {#ballot_results_ft_comment}

If necessary, comments on each ballot are stored as values of the type ```r typeof(ballot_results_ft$comment)``` in Danish language. A Folketing wording standard for `comment` does not seem to exist, so the sentence structures and vocabulary differs a lot between observations. As per `r format(Sys.Date(), "%B %Y")`, there are ```r length(which(!is.na(ballot_results_ft$comment)))``` observations with comments (total number of observations: ```r nrow(ballot_results_ft)```). Comments on ballot results mostly regard human or technical errors, for example:

| Danish | English |
|---|---|
| Ved en fejl er der ikke registreret stemmeafgivning fra X' plads. | By mistake, no vote was registeret at X' seat. |
| Ved en fejl stemte X for/imod/hverken for eller imod forslaget. | By mistake, X voted for/against/neither for nor against the proposal. |
| Ved en fejl har X ikke fået stemt. | By mistake, X could not vote. |
| Ved en fejl fik X ikke afgivet sin stemme. | By mistake, X could not cast a vote. |
| Ved en fejl er Xs stemme registeret i Ys navn. | By mistake, X' vote was registered as a vote by Y. |
| X stemte ved en fejl fra Y's plads. | By mistake, X voted from Y's seat. |
| 10 i X stemte ved en fejl for/imod/hverken for eller imod forslaget. | By mistake, 10 MPs from party X voted for/against/neither for nor against the proposal. |
| Ved en fejl er der registreret en stemme på X. | By mistake, a vote by X was recorded. |
| X undlod ved en fejl at stemme. | By mistake, X did not cast a vote. |
| Omafstemning | Voting Repeated |

```{r ballot_results_ft$comment}
head(ballot_results_ft$comment)
```

### ballot_result_string {#ballot_results_ft_ballot_result_string}

In `ballot_result_string`, ballot results are stored as values of the type ```r typeof(ballot_results_ft$ballot_result_string)``` in Danish language. The variable indicates whether the proposal was adopted or not; how many votes were in favor resp. against or abstentions, and from which political parties these votes came. A Folketing wording standard for `ballot_result_string` does not seem to exist, so the sentence structures and vocabulary differs a lot between observations.

As per `r format(Sys.Date(), "%B %Y")`, there are ```r length(which(!is.na(ballot_results_ft$ballot_result_string)))``` observations with result character strings (total number of observations: ```r nrow(ballot_results_ft)```). For the observations where `ballot_result_string` is not `NA`, the values are used to calculate [`ft_for`](#ft_for), [`ft_against`](#ft_against) and [`ft_abstention`](#ft_abstention). Information on absent MPs is not provided in `ballot_result_string` but [can be inferred from the other values](#ft_absent).

```{r ballot_results_ft$ballot_result_string}
str(ballot_results_ft$ballot_result_string)
```

***

## ballot_info_raw

`ballot_info_raw` is provided as `csv` file in [`../data/raw/`](../data/raw). It contains the downloaded data on voting records before any preprocessing. The [processed data](#ballot_results_ft)  is available as `rds` file in [`../data/processed`](../data/processed). As per `r format(Sys.Date(), "%B %Y")`, `ballot_info_raw.csv` contains `r nrow(ballot_info_raw)` observations of `r ncol(ballot_info_raw)` variables.

```{r ballot_info_raw}
head(ballot_info_raw)
```

Descriptions of all variables in `ballot_info_raw` are provided in the following sections.

### id {#ballot_info_raw_id}

See [ballot_result_ft$ballot_id](#ballot_id). Take care not to confuse `id` with [`nummer`](#nummer). In the raw data, `id` is stored as ```r typeof(ballot_info_raw$id)``` value.

```{r ballot_info_raw$id}
head(ballot_info_raw$id)
```

### nummer {#ballot_info_raw_nummer}

See [ballot_result_ft$ballot_nr](#ballot_nr). Take care not to confuse `nummer` with [`id`](#id). In the raw data, `nummer` is stored as ```r typeof(ballot_info_raw$nummer)``` value.

```{r ballot_info_raw$nummer}
head(ballot_info_raw$nummer)
```

### konklusion {#ballot_info_raw_konklusion}

See [ballot_result_ft$ballot_result_string](#ballot_result_string). In the raw data, `konklusion` is stored as ```r typeof(ballot_info_raw$konklusion)``` value.

```{r ballot_info_raw$konklusion}
head(ballot_info_raw$konklusion)
```

### vedtaget {#ballot_info_raw_vedtaget}

See [ballot_result_ft$ballot_pass](#ballot_pass). In the raw data, `vedtaget` is stored as ```r typeof(ballot_info_raw$vedtaget)``` value.

```{r ballot_info_raw$vedtaget}
head(ballot_info_raw$vedtaget)
```

### kommentar {#ballot_info_raw_kommentar}

See [ballot_result_ft$comment](#comment). In the raw data, `kommentar` is stored as ```r typeof(ballot_info_raw$kommentar)``` value.

```{r ballot_info_raw$kommentar}
head(ballot_info_raw$kommentar)
```

### mødeid {#ballot_info_raw_mødeid}

See [ballot_result_ft$meeting_id](#meeting_id). In the raw data, `mødeid` is stored as ```r typeof(ballot_info_raw$mødeid)``` value.

```{r ballot_info_raw$mødeid}
head(ballot_info_raw$mødeid)
```

### typeid{#ballot_info_raw_typeid}

See [ballot_result_ft$ballot_type_id](#ballot_type_id). In the raw data, `typeid` is stored as ```r typeof(ballot_info_raw$typeid)``` value.

```{r ballot_info_raw$typeid}
head(ballot_info_raw$typeid)
```

### sagstrinid {#ballot_info_raw_sagstrinid}

See [ballot_result_ft$ft_process_id](#ft_process_id). In the raw data, `sagstrinid` is stored as ```r typeof(ballot_info_raw$sagstrinid)``` value.

```{r ballot_info_raw$sagstrinid}
head(ballot_info_raw$sagstrinid)
```

### opdateringsdato {#ballot_info_raw_opdateringsdato}

For all records kept in [the Folketing online database](https://oda.ft.dk), the time stamp of its last update is stored in `opdateringsdato`. All dates are stored as values of the type ```r typeof(ballot_info_raw$opdateringsdato)```. The time stamps are formatted as `%Y-%m-%dT%T`, with some values even at split second level.

This variable is eliminated from [`ballot_results_ft`](#ballot_results_ft) as a result of data processing.

```{r ballot_info_raw$opdateringsdato}
head(ballot_info_raw$opdateringsdato)
```

***

## northatlantic_ft

`northatlantic_ft` is the resulting product of the [targets pipeline](../_targets.R) and is provided as both `rds` file in [`../data/processed`](../data/processed/) and `csv` file in [`../data/processed/csv`](../data/processed/csv). It contains data on voting records of the MPs specified in [`MP_names`](#mp_names), created by processing and joining [`ballot_results_ft`](#ballot_results_ft) and [`northatlantic_votes`](#northatlantic_votes). As per `r format(Sys.Date(), "%B %Y")`, `northatlantic_ft` contains `r nrow(northatlantic_ft)` observations of `r ncol(northatlantic_ft)` variables.

```{r northatlantic_ft}
str(northatlantic_ft)
```

Descriptions of all variables in `northatlantic_ft` are provided in the following sections.

### ballot_id {#northatlantic_ft_ballot_id}

`ballot_id` is created by using [`join_results()`](../src/targets/join_results.R) on `northatlantic_votes` and `ballot_results_ft`. See [`northatlantic_votes$ballot_id`](#northatlantic_votes_ballot_id).

```{r northatlantic_ft$ballot_id}
str(northatlantic_ft$ballot_id)
```

### MP_id {#northatlantic_ft_MP_id}

`MP_id` is created by using [`join_results()`](../src/targets/join_results.R) on `northatlantic_votes` and `ballot_results_ft`. See [`northatlantic_votes$MP_id`](#northatlantic_votes_MP_id).

```{r northatlantic_ft$MP_id}
str(northatlantic_ft$MP_id)
```

### vote_type_id {#northatlantic_ft_vote_type_id}

`northatlantic_ft` is a result of [`join_results()`](../src/targets/join_results.R) in which `vote_type_id` is joined from `northatlantic_votes$vote_type_id`. See [`northatlantic_votes$vote_type_id`](#vote_type_id).

```{r northatlantic_ft$vote_type_id}
str(northatlantic_ft$vote_type_id)
```

### ballot_pass {#northatlantic_ft_ballot_pass}

See [`ballot_results_ft$ballot_pass`](#ballot_pass).

```{r northatlantic_ft$ballot_pass}
str(northatlantic_ft$ballot_pass)
```

### ft_for {#northatlantic_ft_ft_for}

See [`ballot_results_ft$ft_for`](#ft_for).

```{r northatlantic_ft$ft_for}
str(northatlantic_ft$ft_for)
```

### ft_against {#northatlantic_ft_ft_against}

See [`ballot_results_ft$ft_against`](#ft_against).

```{r northatlantic_ft$ft_against}
str(northatlantic_ft$ft_against)
```

### ft_abstention {#northatlantic_ft_ft_abstention}

See [`ballot_results_ft$ft_abstention`](#ft_abstention).

```{r northatlantic_ft$ft_abstention}
str(northatlantic_ft$ft_abstention)
```

### ft_absent {#northatlantic_ft_ft_absent}

See [`ballot_results_ft$ft_absent`](#ft_absent).

```{r northatlantic_ft$ft_absent}
str(northatlantic_ft$ft_absent)
```

### ballot_date {#northatlantic_ft_ballot_date}

See [`ballot_results_ft$ballot_date`](#ballot_date).

```{r northatlantic_ft$ballot_date}
str(northatlantic_ft$ballot_date)
```

### ballot_type_id {#northatlantic_ft_ballot_type_id}

See [`ballot_results_ft$ballot_type_id`](#ballot_type_id).

```{r northatlantic_ft$ballot_type_id}
str(northatlantic_ft$ballot_type_id)
```

### comment {#northatlantic_ft_comment}

See [`ballot_results_ft$comment`](#comment).

```{r northatlantic_ft$comment}
str(northatlantic_ft$comment)
```

### ballot_result_string {#northatlantic_ft_ballot_result_string}

See [`ballot_results_ft$ballot_result_string`](#ballot_results_ft_ballot_result_string).

```{r northatlantic_ft$ballot_result_string}
str(northatlantic_ft$ballot_result_string)
```